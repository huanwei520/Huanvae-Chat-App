/**
 * ========================================
 * Huanvae Chat - 毛玻璃输入框组件
 * ========================================
 * 
 * @description 表单输入相关样式，包含输入框和协议选择器
 * @layer       第三层 - 组件层
 * @author      Huanvae Chat Team
 * 
 * ## 主题集成
 * 所有颜色使用 CSS 变量，由 ThemeProvider 动态注入
 */

/* ============================================
   表单组容器
   ============================================ */
.form-group {
  margin-bottom: var(--space-5);
}

/* ============================================
   表单标签
   ============================================ */
.form-label {
  display: block;
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: var(--space-2);
  padding-left: var(--space-1);
}

/* ============================================
   毛玻璃输入框
   ============================================
   半透明背景 + 模糊效果
*/
.glass-input {
  width: 100%;
  padding: 14px 18px;
  font-size: var(--text-lg);
  color: var(--text-primary);
  
  /* 半透明渐变背景 */
  background: linear-gradient(
    135deg,
    var(--glass-white-45) 0%,
    var(--glass-white-30) 100%
  );
  
  /* 毛玻璃效果 */
  backdrop-filter: var(--blur-md) var(--saturate-normal);
  -webkit-backdrop-filter: var(--blur-md) var(--saturate-normal);
  
  /* 边框 */
  border: 1.5px solid var(--glass-white-70);
  border-radius: var(--radius-lg);
  outline: none;
  
  /* 过渡动画 */
  transition: all var(--transition-smooth);
  
  /* 阴影 */
  box-shadow: 
    0 0 20px var(--glass-white-30),
    0 2px 8px rgba(0, 0, 0, 0.03),
    inset 0 1px 2px var(--glass-white-90),
    inset 0 -1px 1px var(--glass-white-30);
}

/* 占位符样式 */
.glass-input::placeholder {
  color: var(--text-light);
}

/* ============================================
   悬停状态
   ============================================ */
.glass-input:hover {
  border-color: var(--glass-white-90);
  background: linear-gradient(
    135deg,
    var(--glass-white-50) 0%,
    var(--glass-white-40) 100%
  );
  box-shadow: 
    0 0 25px var(--glass-white-40),
    0 4px 12px rgba(var(--color-primary-6-rgb, 59, 130, 246), 0.08),
    inset 0 1px 2px var(--white-alpha-97),
    inset 0 -1px 1px var(--glass-white-40);
}

/* ============================================
   聚焦状态
   ============================================ */
.glass-input:focus {
  border-color: rgba(var(--color-primary-4-rgb, 147, 197, 253), 0.8);
  background: linear-gradient(
    135deg,
    var(--glass-white-60) 0%,
    var(--glass-white-45) 100%
  );
  box-shadow: 
    /* 外围主色光环 */
    0 0 0 4px rgba(var(--color-primary-6-rgb, 59, 130, 246), 0.1),
    0 0 30px rgba(var(--color-primary-4-rgb, 147, 197, 253), 0.25),
    0 4px 16px rgba(var(--color-primary-6-rgb, 59, 130, 246), 0.1),
    inset 0 1px 2px var(--white-alpha-97),
    inset 0 -1px 1px var(--glass-white-40);
}

/* ============================================
   带协议前缀的输入框容器
   ============================================ */
.input-with-prefix {
  position: relative;
  display: flex;
  align-items: stretch;
}

/* ============================================
   协议切换按钮
   ============================================
   用于切换 http:// 和 https://
*/
.protocol-toggle {
  position: absolute;
  left: 2px;
  top: 2px;
  bottom: 2px;
  padding: 0 12px;
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--primary);
  
  /* 浅主色背景 */
  background: linear-gradient(
    135deg,
    var(--primary-subtle) 0%,
    rgba(var(--color-primary-4-rgb, 147, 197, 253), 0.15) 100%
  );
  
  border: none;
  border-right: 1.5px solid var(--border-default);
  border-radius: var(--radius-md) 0 0 var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 70px;
  z-index: 1;
}

/* 协议按钮悬停 */
.protocol-toggle:hover {
  background: linear-gradient(
    135deg,
    rgba(var(--color-primary-6-rgb, 59, 130, 246), 0.2) 0%,
    rgba(var(--color-primary-4-rgb, 147, 197, 253), 0.25) 100%
  );
  color: var(--primary-hover);
}

/* 协议按钮激活 */
.protocol-toggle:active {
  background: linear-gradient(
    135deg,
    rgba(var(--color-primary-6-rgb, 59, 130, 246), 0.25) 0%,
    rgba(var(--color-primary-4-rgb, 147, 197, 253), 0.3) 100%
  );
}

/* 协议按钮禁用 */
.protocol-toggle:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ============================================
   带前缀的输入框
   ============================================
   左侧留出协议按钮的空间
*/
.glass-input.with-prefix {
  padding-left: 90px;
}

/* ============================================
   可选字段标签
   ============================================ */
.optional-label {
  font-weight: 400;
  color: var(--text-light);
}
